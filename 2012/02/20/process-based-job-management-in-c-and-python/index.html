<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Process-Based Job Management in C and Python - Bryce Boe</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    

    <!-- Open Graph tags -->
            <meta property="og:type" content="article"/>
            <meta property="og:title" content="Process-Based Job Management in C and Python"/>
            <meta property="og:url" content="http://bryceboe.com/2012/02/20/process-based-job-management-in-c-and-python/"/>
            <meta property="og:description" content="I had an interesting discussion with my buddy Ali after he read my previous post, Python Multiprocessing Pool and KeyboardInterrupt Revisited. The discussion was around the question, “what are the benefits of using the python multiprocessing.Pool class over writing a simple process-based job management system in C?” We started ..."/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://bryceboe.com/theme/css/bootstrap.cerulean.min.css" type="text/css"/>
    <link href="http://bryceboe.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://bryceboe.com/theme/css/pygments/solarizedlight.css" rel="stylesheet">
        <link href="http://bryceboe.com/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="http://bryceboe.com/theme/css/style.css" type="text/css"/>

        <link href="http://bryceboe.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Bryce Boe ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://bryceboe.com/" class="navbar-brand">
Bryce Boe            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://bryceboe.com/pages/about">
                             About
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://bryceboe.com/archives/"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-sm-9">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://bryceboe.com/2012/02/20/process-based-job-management-in-c-and-python/"
                       rel="bookmark"
                       title="Permalink to Process-Based Job Management in C and Python">
                        Process-Based Job Management in C and&nbsp;Python
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2012-02-20T15:56:00-08:00"> Mon 20 February 2012</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="http://bryceboe.com/tag/c/">C</a>
        /
	<a href="http://bryceboe.com/tag/python/">python</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>I had an interesting discussion with my buddy Ali after he read my previous
post, <a href="/2012/02/14/python-multiprocessing-pool-and-keyboardinterrupt-revisited/">Python Multiprocessing Pool and KeyboardInterrupt Revisited</a>. The
discussion was around the question, &#8220;what are the benefits of using the python
<a href="http://docs.python.org/library/multiprocessing.html#module-multiprocessing.pool">multiprocessing.Pool</a> class over writing a simple process-based job
management system in&nbsp;C?&#8221;</p>
<p>We started with a discussion of performance. It’s no secret that C will
outperform python in any task; after all python is an interpreted language and
the standard python implementation is written in C. However, Ali and my
discussion was not focused on the performance of the jobs themselves, but
rather on the performance of a job management system that could be gracefully
interrupted. In such a system, where the majority of work is done in job
processing, the question of the job management system&#8217;s performance is
irrelevant; it makes little difference if C can launch all the workers thirty
times faster when python still does it in well under a second. As an aside,
it&#8217;s trivial to call a C program from python, or even to write a <a href="/2010/09/14/properly-handling-the-keyboard-interrupt-exception-sigint-within-a-python-c-module/" title="Properly Handling the Keyboard Interrupt Exception (SIGINT) within a Python C Module">python C
module</a> for fast job processing&nbsp;performance.</p>
<p>Once the irrelevance of the job management performance was agreed upon, Ali and
I discussed development time, dependencies and portability. Having written both
a significant amount of C and python code pertaining to <a href="http://cs.ucsb.edu/~bboe/p/cv#teaching">operating system
concepts</a>, I know that anyone with equivalent experience can much more
efficiently code a process-based job management system in python than in C.
This holds true, even without the multiprocessing module and when using only
the low level features provided by the <a href="http://docs.python.org/library/os.html">os package</a>. The two primary reasons
for faster development time are dynamic types, and garbage collection.
Additionally, python provides a lot more out-of-the-box functionality, e.g.,
string manipulation and basic data structures such as lists and dictionaries;
all features that contribute to faster development&nbsp;time.</p>
<p>Of course, if one had all the needed libraries in C, then my only argument in
favor of python is the lack of types and implicit memory management. The choice
between C and python in this case is simply up to personal preference. However,
having the required C libraries is a problem on its own. This is where my lack
of real-world C experience appears as I’m not familiar with well-written C
libraries that provide python-like string manipulation and basic data
structures, nor am I familiar with a well written process-based job management
library. Nevertheless, even if these libraries were easily available, they are
additional dependencies that must be present in order to run any code utilizing&nbsp;them.</p>
<p>Managing dependencies can be a pain, especially in the absence of an automated
process for obtaining them. For example, I wrote some code for a computer
graphics class a few years ago that I recently wanted to compile. As I recall,
it took me a few hours to find and install all the required OpenGL dependencies
before I could compile my own code. Compare that to the 90%+ of python programs
I’ve written which have no external dependencies. This vast amount of code
<em>still</em> works out-of-the-box across multiple&nbsp;platforms.</p>
<p>Portability is my final argument in favor of python over C. While <a href="http://en.wikipedia.org/wiki/ANSI_C"><span class="caps">ANSI</span>-C</a>
based libraries should work across multiple platforms, dealing with process
management is a whole other can of worms as this <em>drastically</em> differs between
operating systems. Again, my inexperience shows as I am not familiar with any
process management libraries that are compatible with both Windows and
<a href="http://en.wikipedia.org/wiki/POSIX"><span class="caps">POSIX</span>-based</a> systems. Moreover, I am not even sufficiently familiar with the
Windows <span class="caps">API</span> to know its equivalent functions to <a href="http://pubs.opengroup.org/onlinepubs/009604599/functions/fork.html">fork</a>, <a href="http://pubs.opengroup.org/onlinepubs/009604499/functions/exec.html">exec</a>, <a href="http://pubs.opengroup.org/onlinepubs/009604599/functions/pipe.html">pipe</a>
and <a href="http://pubs.opengroup.org/onlinepubs/007904975/functions/dup.html">dup</a> that are needed to write a process-based job management system for
Windows. Nevertheless, with python, one needn’t worry about such things because
the majority of the functionality in the os package is supported on both
Windows and <span class="caps">POSIX</span>-based systems. Most importantly the multiprocessing module is
supported on both, and thus <em>anyone</em> who installs python, independent of their
operating system, can run the multiprocessing examples I previously provided
[<a href="/2010/08/26/python-multiprocessing-and-keyboardinterrupt/" title="Python Multiprocessing and KeyboardInterrupt">1</a>, <a href="/2011/01/28/the-python-multiprocessing-queue-and-large-objects/" title="The Python Multiprocessing Queue and Large Objects">2</a>].</p>
<p>While Ali and I had a great discussion going, we still hadn’t gotten to the
root of his question. Ali didn’t care about development time, nor portability.
The problem was that he didn’t see any significant advantages to using the
multiprocessing.Pool class when he could instead quickly write a process-based
job management system in C utilizing fork to spawn processes and pipe to handle
the <a href="http://en.wikipedia.org/wiki/Inter-process_communication">inter-process communication</a> (<span class="caps">IPC</span>). As it turns out, Ali wasn’t aware
that the python multiprocessing.Pool class internally handles all the <span class="caps">IPC</span>.
Without the built-in <span class="caps">IPC</span> support, Ali’s concerns would be valid as some other
communication mechanism would need to be explicitly written to communicate
between the master process and its workers. Fortunately, in python we get all
that for free with both the multiprocessing.Pool and <a href="http://docs.python.org/library/multiprocessing.html#exchanging-objects-between-processes">multiprocessing.Queue</a>&nbsp;classes.</p>
<p>Personally, the choice of using python for such a task is a no-brainer because
I can develop the system faster without the need for external dependencies and
have confidence that it will work on any operating system that python runs on.
Nevertheless, my curiosity peaked and I set out to write a <em>simple</em>
process-based job management system in C. The system is complete, <del>though
I&#8217;ve yet to write about it<del><ins datetime="2012-02-24T07:02:59+00:00"> and
I&#8217;ve now written about it. Read the followup: <a href="/2012/02/23/implementation-of-a-process-based-job-management-system-in-c/" title="Implementation of a Process-Based Job Management System in C">Implementation of a
Process-Based Job Management System in C</a></ins></p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="http://bryceboe.com/2012/02/23/implementation-of-a-process-based-job-management-system-in-c/">Implementation of a Process-Based Job Management System in&nbsp;C</a></li>
        <li><a href="http://bryceboe.com/2010/09/14/properly-handling-the-keyboard-interrupt-exception-sigint-within-a-python-c-module/">Properly Handling the Keyboard Interrupt Exception (<span class="caps">SIGINT</span>) within a Python C&nbsp;Module</a></li>
        <li><a href="http://bryceboe.com/2010/08/26/python-multiprocessing-and-keyboardinterrupt/">Python Multiprocessing and&nbsp;KeyboardInterrupt</a></li>
        <li><a href="http://bryceboe.com/2010/05/25/defcon-18-quals-forensics-200-write-up/">Defcon 18 Quals Forensics 200 Write&nbsp;up</a></li>
        <li><a href="http://bryceboe.com/2011/02/21/using-stackoverflows-api-to-find-the-top-web-frameworks/">Using StackOverflow&#8217;s <span class="caps">API</span> to Find the Top Web&nbsp;Frameworks</a></li>
    </ul>
</section>
    <hr />
    <section class="comments" id="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'bboe'; // required: replace example with your forum shortname
            var disqus_url = 'http://bryceboe.com/2012/02/20/process-based-job-management-in-c-and-python/';
            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3 well well-sm" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
                  <ul class="list-group" id="social">
                    <li class="list-group-item">
                      <a href="https://github.com/bboe"><i class="fa fa-github fa-lg"></i></a>
                      <a href="https://github.com/bboe">github</a>
                    </li>
                    <li class="list-group-item">
                      <a href="http://stackoverflow.com/users/176978/bboe"><i class="fa fa-stack-overflow fa-lg"></i></a>
                      <a href="http://stackoverflow.com/users/176978/bboe">stack-overflow</a>
                    </li>
                    <li class="list-group-item">
                      <a href="http://www.linkedin.com/in/bbzbryce"><i class="fa fa-linkedin fa-lg"></i></a>
                      <a href="http://www.linkedin.com/in/bbzbryce">linkedin</a>
                    </li>
                    <li class="list-group-item">
                      <a href="https://plus.google.com/+BryceBoe?rel=author"><i class="fa fa-google-plus fa-lg"></i></a>
                      <a href="https://plus.google.com/+BryceBoe?rel=author">google+</a>
                    </li>
                    <li class="list-group-item">
                      <a href="https://twitter.com/bboe"><i class="fa fa-twitter fa-lg"></i></a>
                      <a href="https://twitter.com/bboe">twitter</a>
                    </li>
                  </ul>
                </li>

                <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                    <ul class="list-group" id="recentposts">
                        <li class="list-group-item">
                            <a href="http://bryceboe.com/2014/03/27/daniel-boe-march-27-1988-february-28-2014/">
                                Daniel Boe: March 27, 1988 - February 28,&nbsp;2014
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://bryceboe.com/2014/01/25/hello-pelican-world/">
                                Hello Pelican&nbsp;World
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://bryceboe.com/2013/05/29/ph-d-proposal-announcement/">
                                Ph.D. Proposal&nbsp;Announcement
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://bryceboe.com/2013/05/12/mothers-day/">
                                Mother&#8217;s&nbsp;Day
                            </a>
                        </li>
                        <li class="list-group-item">
                            <a href="http://bryceboe.com/2012/11/05/time-zones-in-python-and-datetime-representations/">
                                Time Zones in Python and Date/Time&nbsp;Representations
                            </a>
                        </li>
                    </ul>
                </li>


                <li class="list-group-item"><a href="http://bryceboe.com/tags/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                    <ul class="list-group" id="tags">
                    </ul>
                </li>    
    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://adamdoupe.com/" target="_blank">
                Adam Doupé
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://juliebifano.com/" target="_blank">
                Julie Bifano
            </a>
        </li>
      </ul>
    </li>

        </ul>
    </section>

</aside>        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2014 Bryce Boe
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://code.jquery.com/jquery.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://bryceboe.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://bryceboe.com/theme/js/respond.min.js"></script>

    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'bboe'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-510348-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

    </script>
</body>
</html>